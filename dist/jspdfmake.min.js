"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function JsPDFMake(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.docDefinition=e;var n={orientation:"p",unit:"pt",format:"a4",hotfixes:[],lineHeight:DEFAULT_LINE_HEIGHT};this.options=_extends({},i),this.doc=new JsPDF(n).setProperties({title:t}),this.title=t,this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.pageMarginLeft=i.pageMarginLeft||0,this.pageMarginRight=i.pageMarginRight||0,this.pageMarginTop=i.pageMarginTop||0,this.pageMarginBottom=i.pageMarginBottom||0,this.maxLineWidth=this.pageWidth-this.pageMarginLeft-this.pageMarginRight,this.tocSections={},this.generateFromDocDefinition()}function extendJsPDFAPI(t){t(JsPDF.API)}Object.defineProperty(exports,"__esModule",{value:!0});var JsPDF=_interopDefault(require("jspdf")),DEFAULT_FONT_SIZE=18,DEFAULT_LINE_HEIGHT=1,DEFAULT_ALIGN="left",DEFAULT_FONT_NAME="helvetica",DEFAULT_FONT_STYLE="normal",DEFAULT_TEXT_COLOR="black",_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},slicedToArray=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.reverse=function(){return this.split("").reverse().join("")};var EPS=1e-5,lessThanOrEqual=function(t,e){return t<e||Math.abs(t-e)<EPS},removeCharactersToFitWidth=function(t,e,i,n){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:" ",o=Array(i).fill(".").join("").concat(r),a=e-n(o),s="",c=0;c<t.length&&lessThanOrEqual(n(s.concat(t[c],o)),a);)s=s.concat(t[c]),c+=1;return s=s.concat(o)},addDotsToFitWidth=function(t,e,i){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"  ",r=t;lessThanOrEqual(i(r.concat(".",n)),e);)r=r.concat(".");return r.concat(n)},connectWithDotsToFitLine=function(t,e){var i=Array(9).fill(".").join("").concat(t.linkPage),n=e(i),r=e(t.text),o=t.text,a=i;return t.lineWidth-r<n?o=removeCharactersToFitWidth(t.text,t.lineWidth-n,2,e):a=addDotsToFitWidth(i.reverse(),t.lineWidth-r,e).reverse(),[_extends({},t,{text:o}),_extends({},t,{text:a,xOffset:t.xOffset+t.lineWidth-e(a)})]};JsPDFMake.prototype.initTOC=function(){var t=this;this.tocSections={},this.docDefinition.content.filter(function(t){return t.toc}).forEach(function(e){var i=e.toc;if(t.tocSections[i.id])throw new Error("Duplicate table of contents id '"+i.id+"', please make sure all table of contents have a uniq id");var n=Object.assign({},i);delete n.id,t.tocSections[i.id]={items:[],options:n}})},JsPDFMake.prototype.transformTOCToContent=function(t){var e=t.options,i=t.items,n=[e.title];return i.forEach(function(t){var i=t.title,r=t.paragraphIndex,o=Object.assign({text:i,isLink:!0,linkParagraphIndex:r},e.itemOptions);n.push(o)}),n},JsPDFMake.prototype.updateTOCLinks=function(t){var e=this,i=0,n=0;return t.forEach(function(t){var r=0;t.isToc?(t.lines.forEach(function(i,o){r=i.pageNumber,i.pageNumber+=n,0===o&&(e.tocSections[t.id].pageNumber=i.pageNumber)}),i+=r):t.lines.forEach(function(t){t.pageNumber+=i,n=t.pageNumber})}),t.forEach(function(i){i.lines=i.lines.reduce(function(i,n){if(n.linkParagraphIndex>=0){var r=connectWithDotsToFitLine(_extends({},n,{linkPage:t[n.linkParagraphIndex].lines[0].pageNumber}),function(t){return e.doc.setFont(n.fontName,n.fontStyle).setFontSize(n.fontSize).getTextWidth(t)});return i.concat(r)}return i.concat(n)},[])}),t},JsPDFMake.prototype.size=function(){return this.doc.internal.pages.length-1},JsPDFMake.prototype.addPage=function(){var t=this.doc,e=this.getCurrentPageNumber();e===this.size()?t.addPage():t.insertPage(e)},JsPDFMake.prototype.clearDoc=function(){for(var t=this.doc;t.internal.pages.length>1;)t.deletePage(1);this.addPage()},JsPDFMake.prototype.updateDocDefinition=function(t){this.docDefinition=t,this.generateFromDocDefinition()},JsPDFMake.prototype.getCurrentPageNumber=function(){return this.doc.internal.getCurrentPageInfo().pageNumber},JsPDFMake.prototype.isCursorOutOfPageVertically=function(t){return t>this.pageHeight-this.pageMarginBottom},JsPDFMake.prototype.drawTextInLine=function(t){var e=t.text,i=t.fontSize,n=t.fontName,r=t.fontStyle,o=t.textColor,a=t.lineWidth,s=t.xOffset,c=t.yOffset,h=t.pageNumber,l=t.maxFontSize,f=t.isLink,g=t.linkPage,p=t.linkUrl,u=t.hasBullet,d=t.bulletSpacing,P=t.highlightColor,T=this.doc,v=i/2+i/4;if(P&&(T.setDrawColor(0),T.setFillColor(P[0],P[1],P[2]),T.rect(s,c,a,i,"F")),T.setPage(h).setFont(n,r).setFontSize(i).setTextColor(o),f){var F={pageNumber:g};p&&(F={url:p}),T.textWithLink(e,s,v+Math.max(i,l)-i+c,F)}else T.text(s,v+Math.max(i,l)-i+c,e);return u&&(T.setDrawColor(0),T.setFillColor(0,0,0),T.circle(s-d,c+v/1.8,i/7,"FD")),!0},JsPDFMake.prototype.drawParagraphs=function(t){var e=this;t.forEach(function(t){var i=t.lines;return(void 0===i?[]:i).forEach(function(t){for(;t.pageNumber>e.size();)e.addPage();e.drawTextInLine(t)})})},JsPDFMake.prototype.escapeSpecialCharacters=function(t){return t.replace(/[^A-Za-z 0-9 \n\t\.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,"")},JsPDFMake.prototype.renderParagraph=function(t,e,i,n,r){var o=t.text,a=t.pageBreak,s=void 0===a?"none":a,c=t.fontSize,h=void 0===c?DEFAULT_FONT_SIZE:c,l=t.fontName,f=void 0===l?DEFAULT_FONT_NAME:l,g=t.fontStyle,p=void 0===g?DEFAULT_FONT_STYLE:g,u=t.textColor,d=void 0===u?DEFAULT_TEXT_COLOR:u,P=t.align,T=void 0===P?DEFAULT_ALIGN:P,v=t.marginTop,F=void 0===v?0:v,D=t.marginRight,x=void 0===D?0:D,m=t.marginBottom,y=void 0===m?0:m,O=t.marginLeft,k=void 0===O?0:O,E=t.tocIds,M=void 0===E?[]:E,b=t.tocItemText,L=t.isLink,S=void 0!==L&&L,C=t.linkPage,_=t.linkUrl,N=t.linkParagraphIndex,A=t.hasBullet,J=void 0!==A&&A,I=t.bulletSpacing,w=void 0===I?h:I,W=t.highlightColor,z=void 0!==W&&W,U=this,j=arguments.length>5&&void 0!==arguments[5]&&arguments[5],H=this.doc,B=this.maxLineWidth,R=this.tocSections,q=this.pageMarginLeft,X=this.pageMarginRight,Y=this.pageMarginTop,G=this.pageWidth;if("string"!=typeof o)return console.warn("Text is only supported as string format, this section will not be rendered => "+o),{nextXOffset:e,nextYOffset:i,nextPage:n,lines:Z};("before"===s||this.isCursorOutOfPageVertically(i+h))&&(i=Y,n+=1),M.forEach(function(t){if(!R[t])throw new Error("Unknown table of contents id '"+t+"'");R[t].items.push({title:b||o,paragraphIndex:r})}),J&&(k+=w);var V=H.setFont(f,p).setFontSize(h).setTextColor(d).splitTextToSize(this.escapeSpecialCharacters(o),B-k-x);j&&(V=V.splice(0,j)),i+=F;var Z=[];return V.forEach(function(t,r){U.isCursorOutOfPageVertically(i+h)&&(i=Y,n+=1),e=q+k,"center"===T?e=G/2-H.getTextWidth(t)/2+k-x:"right"===T&&(e=G-H.getTextWidth(t)-X-x),Z.push({text:t,fontSize:h,fontName:f,fontStyle:p,textColor:d,lineWidth:G-X-x-q-k,xOffset:e,yOffset:i,pageNumber:n,maxFontSize:h,isLink:S,linkPage:C,linkUrl:_,linkParagraphIndex:N,hasBullet:0===r&&J,bulletSpacing:w,highlightColor:z}),i+=h}),i+=y,"after"===s&&(i=Y,n+=1),{nextXOffset:e,nextYOffset:i,nextPage:n,lines:Z}},JsPDFMake.prototype.transformContentToDrawableParagraphs=function(t,e){var i=this,n=this.pageMarginTop,r=void 0,o=1;return t.map(function(a,s){if(a.toc)return o>1&&s<t.length-1&&(o+=1,n=i.pageMarginTop),{isToc:!0,id:a.toc.id};var c=i.renderParagraph(a,r,n,o,s,e),h=c.nextXOffset,l=c.nextYOffset,f=c.nextPage,g=c.lines;return n=l,r=h,o=f,{lines:g}}).filter(function(t){return t})},JsPDFMake.prototype.generateFromDocDefinition=function(){var t=this,e=this.docDefinition;this.clearDoc(),this.initTOC();var i=this.transformContentToDrawableParagraphs(e.content),n=this.tocSections;Object.entries(n).forEach(function(e){var n=slicedToArray(e,2),r=n[0],o=n[1],a=t.transformTOCToContent(o),s=t.transformContentToDrawableParagraphs(a,1);i.forEach(function(t){t.isToc&&t.id===r&&(t.lines=s.map(function(t){return t.lines}).flat())})}),this.drawParagraphs(this.updateTOCLinks(i)),this.renderFooterToPages()},JsPDFMake.prototype.renderFooterToPages=function(){var t=this.docDefinition,e=this.doc,i=this.tocSections,n=this.pageWidth,r=this.pageHeight,o=t.renderFooter;if(o)for(var a=1;a<=this.size();)e.setPage(a),o(e,a,{width:n,height:r},i),a+=1},JsPDFMake.prototype.download=function(){this.doc.save(this.title)},exports.JsPDFMake=JsPDFMake,exports.extendJsPDFAPI=extendJsPDFAPI;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyIsIi4uL3NyYy9jb25zdGFudHMuanMiLCIuLi9zcmMvdXRpbHMuanMiLCIuLi9zcmMvdG9jLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKc1BERiBmcm9tICdqc3BkZic7XG5pbXBvcnQge1xuICBERUZBVUxUX0xJTkVfSEVJR0hULFxuICBERUZBVUxUX0FMSUdOLFxuICBERUZBVUxUX0ZPTlRfU0laRSxcbiAgREVGQVVMVF9GT05UX05BTUUsXG4gIERFRkFVTFRfRk9OVF9TVFlMRSxcbiAgREVGQVVMVF9URVhUX0NPTE9SXG59IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCAnLi90b2MnO1xuXG5leHBvcnQgZnVuY3Rpb24gSnNQREZNYWtlKHRpdGxlLCBkb2NEZWZpbml0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgdGhpcy5kb2NEZWZpbml0aW9uID0gZG9jRGVmaW5pdGlvbjtcbiAgY29uc3QganNQZGZPcHRpb25zID0ge1xuICAgIG9yaWVudGF0aW9uOiAncCcsXG4gICAgdW5pdDogJ3B0JyxcbiAgICBmb3JtYXQ6ICdhNCcsXG4gICAgaG90Zml4ZXM6IFtdLCAvLyBhbiBhcnJheSBvZiBob3RmaXggc3RyaW5ncyB0byBlbmFibGVcbiAgICBsaW5lSGVpZ2h0OiBERUZBVUxUX0xJTkVfSEVJR0hUXG4gIH07XG4gIHRoaXMub3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICB0aGlzLmRvYyA9IG5ldyBKc1BERihqc1BkZk9wdGlvbnMpLnNldFByb3BlcnRpZXMoe1xuICAgIHRpdGxlXG4gIH0pO1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIHRoaXMucGFnZVdpZHRoID0gdGhpcy5kb2MuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTtcbiAgdGhpcy5wYWdlSGVpZ2h0ID0gdGhpcy5kb2MuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7XG4gIHRoaXMucGFnZU1hcmdpbkxlZnQgPSBvcHRpb25zLnBhZ2VNYXJnaW5MZWZ0IHx8IDA7XG4gIHRoaXMucGFnZU1hcmdpblJpZ2h0ID0gb3B0aW9ucy5wYWdlTWFyZ2luUmlnaHQgfHwgMDtcbiAgdGhpcy5wYWdlTWFyZ2luVG9wID0gb3B0aW9ucy5wYWdlTWFyZ2luVG9wIHx8IDA7XG4gIHRoaXMucGFnZU1hcmdpbkJvdHRvbSA9IG9wdGlvbnMucGFnZU1hcmdpbkJvdHRvbSB8fCAwO1xuICB0aGlzLm1heExpbmVXaWR0aCA9XG4gICAgdGhpcy5wYWdlV2lkdGggLSB0aGlzLnBhZ2VNYXJnaW5MZWZ0IC0gdGhpcy5wYWdlTWFyZ2luUmlnaHQ7XG4gIHRoaXMudG9jU2VjdGlvbnMgPSB7fTtcbiAgdGhpcy5nZW5lcmF0ZUZyb21Eb2NEZWZpbml0aW9uKCk7XG59XG5cbkpzUERGTWFrZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uIHNpemUoKSB7XG4gIHJldHVybiB0aGlzLmRvYy5pbnRlcm5hbC5wYWdlcy5sZW5ndGggLSAxO1xufTtcblxuSnNQREZNYWtlLnByb3RvdHlwZS5hZGRQYWdlID0gZnVuY3Rpb24gYWRkUGFnZSgpIHtcbiAgY29uc3QgeyBkb2MgfSA9IHRoaXM7XG4gIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5nZXRDdXJyZW50UGFnZU51bWJlcigpO1xuICBpZiAoY3VycmVudFBhZ2UgPT09IHRoaXMuc2l6ZSgpKSB7XG4gICAgZG9jLmFkZFBhZ2UoKTtcbiAgfSBlbHNlIHtcbiAgICBkb2MuaW5zZXJ0UGFnZShjdXJyZW50UGFnZSk7XG4gIH1cbn07XG5cbkpzUERGTWFrZS5wcm90b3R5cGUuY2xlYXJEb2MgPSBmdW5jdGlvbiBjbGVhckRvYygpIHtcbiAgY29uc3QgeyBkb2MgfSA9IHRoaXM7XG4gIHdoaWxlIChkb2MuaW50ZXJuYWwucGFnZXMubGVuZ3RoID4gMSkge1xuICAgIGRvYy5kZWxldGVQYWdlKDEpO1xuICB9XG4gIHRoaXMuYWRkUGFnZSgpO1xufTtcblxuSnNQREZNYWtlLnByb3RvdHlwZS51cGRhdGVEb2NEZWZpbml0aW9uID0gZnVuY3Rpb24gdXBkYXRlRG9jRGVmaW5pdGlvbihcbiAgZG9jRGVmaW5pdGlvblxuKSB7XG4gIHRoaXMuZG9jRGVmaW5pdGlvbiA9IGRvY0RlZmluaXRpb247XG4gIHRoaXMuZ2VuZXJhdGVGcm9tRG9jRGVmaW5pdGlvbigpO1xufTtcblxuSnNQREZNYWtlLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZU51bWJlciA9IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlTnVtYmVyKCkge1xuICByZXR1cm4gdGhpcy5kb2MuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCkucGFnZU51bWJlcjtcbn07XG5cbkpzUERGTWFrZS5wcm90b3R5cGUuaXNDdXJzb3JPdXRPZlBhZ2VWZXJ0aWNhbGx5ID0gZnVuY3Rpb24gaXNDdXJzb3JPdXRPZlBhZ2VWZXJ0aWNhbGx5KFxuICB5T2Zmc2V0XG4pIHtcbiAgcmV0dXJuIHlPZmZzZXQgPiB0aGlzLnBhZ2VIZWlnaHQgLSB0aGlzLnBhZ2VNYXJnaW5Cb3R0b207XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIGJlIGlubGluZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4T2Zmc2V0IFRoZSB4IG9mZnNldCBmb3IgdGhlIG5ldyB0ZXh0XG4gKiBAcGFyYW0ge051bWJlcn0geU9mZnNldCBUaGUgeSBvZmZzZXQgZm9yIHRoZSBuZXcgdGV4dFxuICogQHBhcmFtIHtOdW1iZXJ9IGZvbnRTaXplIFRoZSBmb250IHNpemUgZm9yIHRoZSBuZXcgdGV4dFxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvbnRTaXplIFRoZSBtYXhpbXVtIGZvbnQgc2l6ZSBpbiB0aGlzIGxpbmUuXG4gKiBAcGFyYW0ge1N0cmluZ30gYWxpZ24gRWl0aGVyICdsZWZ0JywgJ3JpZ2h0JyBvciAnY2VudGVyJywgZGVmYXVsdCBpcyAnbGVmdCdcbiAqL1xuSnNQREZNYWtlLnByb3RvdHlwZS5kcmF3VGV4dEluTGluZSA9IGZ1bmN0aW9uIGRyYXdUZXh0SW5MaW5lKHtcbiAgdGV4dCxcbiAgZm9udFNpemUsXG4gIGZvbnROYW1lLFxuICBmb250U3R5bGUsXG4gIHRleHRDb2xvcixcbiAgbGluZVdpZHRoLFxuICB4T2Zmc2V0LFxuICB5T2Zmc2V0LFxuICBwYWdlTnVtYmVyLFxuICBtYXhGb250U2l6ZSxcbiAgaXNMaW5rLFxuICBsaW5rUGFnZSxcbiAgbGlua1VybCxcbiAgaGFzQnVsbGV0LFxuICBidWxsZXRTcGFjaW5nLFxuICBoaWdobGlnaHRDb2xvclxufSkge1xuICBjb25zdCB7IGRvYyB9ID0gdGhpcztcbiAgY29uc3QgY2VudGVyID0gZm9udFNpemUgLyAyLjAgKyBmb250U2l6ZSAvIDQuMDsgLy8gVGhlIHJlbmRlcmVyIHN0YXJ0cyBkcmF3aW5nIHRleHQgYXQgdGhlIGNlbnRlclxuICBpZiAoaGlnaGxpZ2h0Q29sb3IpIHtcbiAgICBkb2Muc2V0RHJhd0NvbG9yKDApO1xuICAgIGRvYy5zZXRGaWxsQ29sb3IoaGlnaGxpZ2h0Q29sb3JbMF0sIGhpZ2hsaWdodENvbG9yWzFdLCBoaWdobGlnaHRDb2xvclsyXSk7XG4gICAgZG9jLnJlY3QoeE9mZnNldCwgeU9mZnNldCwgbGluZVdpZHRoLCBmb250U2l6ZSwgJ0YnKTtcbiAgfVxuICBkb2NcbiAgICAuc2V0UGFnZShwYWdlTnVtYmVyKVxuICAgIC5zZXRGb250KGZvbnROYW1lLCBmb250U3R5bGUpXG4gICAgLnNldEZvbnRTaXplKGZvbnRTaXplKVxuICAgIC5zZXRUZXh0Q29sb3IodGV4dENvbG9yKTtcbiAgaWYgKGlzTGluaykge1xuICAgIGxldCBsaW5rID0ge1xuICAgICAgcGFnZU51bWJlcjogbGlua1BhZ2VcbiAgICB9O1xuICAgIGlmIChsaW5rVXJsKSB7XG4gICAgICBsaW5rID0ge1xuICAgICAgICB1cmw6IGxpbmtVcmxcbiAgICAgIH07XG4gICAgfVxuICAgIGRvYy50ZXh0V2l0aExpbmsoXG4gICAgICB0ZXh0LFxuICAgICAgeE9mZnNldCxcbiAgICAgIGNlbnRlciArIE1hdGgubWF4KGZvbnRTaXplLCBtYXhGb250U2l6ZSkgLSBmb250U2l6ZSArIHlPZmZzZXQsXG4gICAgICBsaW5rXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBkb2MudGV4dChcbiAgICAgIHhPZmZzZXQsXG4gICAgICBjZW50ZXIgKyBNYXRoLm1heChmb250U2l6ZSwgbWF4Rm9udFNpemUpIC0gZm9udFNpemUgKyB5T2Zmc2V0LFxuICAgICAgdGV4dFxuICAgICk7XG4gIH1cbiAgaWYgKGhhc0J1bGxldCkge1xuICAgIGRvYy5zZXREcmF3Q29sb3IoMCk7XG4gICAgZG9jLnNldEZpbGxDb2xvcigwLCAwLCAwKTtcbiAgICBkb2MuY2lyY2xlKFxuICAgICAgeE9mZnNldCAtIGJ1bGxldFNwYWNpbmcsXG4gICAgICB5T2Zmc2V0ICsgY2VudGVyIC8gMS44LFxuICAgICAgZm9udFNpemUgLyA3LjAsXG4gICAgICAnRkQnXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkpzUERGTWFrZS5wcm90b3R5cGUuZHJhd1BhcmFncmFwaHMgPSBmdW5jdGlvbiBkcmF3UGFyYWdyYXBocyhwYXJhZ3JhcGhzKSB7XG4gIHBhcmFncmFwaHMuZm9yRWFjaCgoeyBsaW5lcyA9IFtdIH0pID0+XG4gICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgIHdoaWxlIChsaW5lLnBhZ2VOdW1iZXIgPiB0aGlzLnNpemUoKSkge1xuICAgICAgICB0aGlzLmFkZFBhZ2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd1RleHRJbkxpbmUobGluZSk7XG4gICAgfSlcbiAgKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbnkgc3BlY2lhbCBjaGFyYWN0ZXJzIGZyb20gdGhlIGdpdmVuIHRleHRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIGJlIHRyYW5zZm9ybWVkXG4gKi9cbkpzUERGTWFrZS5wcm90b3R5cGUuZXNjYXBlU3BlY2lhbENoYXJhY3RlcnMgPSBmdW5jdGlvbiBlc2NhcGVTcGVjaWFsQ2hhcmFjdGVycyhcbiAgdGV4dFxuKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlICovXG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoXG4gICAgL1teQS1aYS16IDAtOSBcXG5cXHRcXC4sXFw/XCJcIiFAI1xcJCVcXF4mXFwqXFwoXFwpLV89XFwrOzo8PlxcL1xcXFxcXHxcXH1cXHtcXFtcXF1gfl0qL2csXG4gICAgJydcbiAgKTtcbn07XG5cbkpzUERGTWFrZS5wcm90b3R5cGUucmVuZGVyUGFyYWdyYXBoID0gZnVuY3Rpb24gcmVuZGVyUGFyYWdyYXBoKFxuICB7XG4gICAgdGV4dCxcbiAgICBwYWdlQnJlYWsgPSAnbm9uZScsXG4gICAgZm9udFNpemUgPSBERUZBVUxUX0ZPTlRfU0laRSxcbiAgICBmb250TmFtZSA9IERFRkFVTFRfRk9OVF9OQU1FLFxuICAgIGZvbnRTdHlsZSA9IERFRkFVTFRfRk9OVF9TVFlMRSxcbiAgICB0ZXh0Q29sb3IgPSBERUZBVUxUX1RFWFRfQ09MT1IsXG4gICAgYWxpZ24gPSBERUZBVUxUX0FMSUdOLFxuICAgIG1hcmdpblRvcCA9IDAsXG4gICAgbWFyZ2luUmlnaHQgPSAwLFxuICAgIG1hcmdpbkJvdHRvbSA9IDAsXG4gICAgbWFyZ2luTGVmdCA9IDAsXG4gICAgdG9jSWRzID0gW10sXG4gICAgdG9jSXRlbVRleHQsXG4gICAgaXNMaW5rID0gZmFsc2UsXG4gICAgbGlua1BhZ2UsXG4gICAgbGlua1VybCxcbiAgICBsaW5rUGFyYWdyYXBoSW5kZXgsXG4gICAgaGFzQnVsbGV0ID0gZmFsc2UsXG4gICAgYnVsbGV0U3BhY2luZyA9IGZvbnRTaXplLFxuICAgIGhpZ2hsaWdodENvbG9yID0gZmFsc2VcbiAgfSxcbiAgeE9mZnNldCxcbiAgeU9mZnNldCxcbiAgcGFnZU51bWJlcixcbiAgcGFyYWdyYXBoSW5kZXgsXG4gIG1heExpbmVzUGVyUGFyYWdyYXBoID0gZmFsc2Vcbikge1xuICBjb25zdCB7XG4gICAgZG9jLFxuICAgIG1heExpbmVXaWR0aCxcbiAgICB0b2NTZWN0aW9ucyxcbiAgICBwYWdlTWFyZ2luTGVmdCxcbiAgICBwYWdlTWFyZ2luUmlnaHQsXG4gICAgcGFnZU1hcmdpblRvcCxcbiAgICBwYWdlV2lkdGhcbiAgfSA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIFRPRE86IEhBTkRMRSBJTkxJTkUgVEVYVCBPQkpFQ1RTXG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYFRleHQgaXMgb25seSBzdXBwb3J0ZWQgYXMgc3RyaW5nIGZvcm1hdCwgdGhpcyBzZWN0aW9uIHdpbGwgbm90IGJlIHJlbmRlcmVkID0+ICR7dGV4dH1gXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dFhPZmZzZXQ6IHhPZmZzZXQsXG4gICAgICBuZXh0WU9mZnNldDogeU9mZnNldCxcbiAgICAgIG5leHRQYWdlOiBwYWdlTnVtYmVyLFxuICAgICAgbGluZXNcbiAgICB9O1xuICB9XG4gIGlmIChcbiAgICBwYWdlQnJlYWsgPT09ICdiZWZvcmUnIHx8XG4gICAgdGhpcy5pc0N1cnNvck91dE9mUGFnZVZlcnRpY2FsbHkoeU9mZnNldCArIGZvbnRTaXplKVxuICApIHtcbiAgICAvLyBpZiBwYWdlIGJyZWFrIGJlZm9yZSBvciBuZXh0IGxpbmUgY2FuJ3QgYmUgd3JpdHRlbiByZXNldCBvZmZzZXQgYW5kIGFkZCBhIG5ldyBwYWdlXG4gICAgeU9mZnNldCA9IHBhZ2VNYXJnaW5Ub3A7XG4gICAgLy8gdGhpcy5hZGRQYWdlKCk7XG4gICAgcGFnZU51bWJlciArPSAxO1xuICB9XG5cbiAgLy8gSW5zZXJ0IHRoaXMgcGFyYWdyYXBoIHRvIGl0cyB0b2Mgc2VjdGlvbiBpZiBhbnlcbiAgdG9jSWRzLmZvckVhY2godG9jSWQgPT4ge1xuICAgIGlmICghdG9jU2VjdGlvbnNbdG9jSWRdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdGFibGUgb2YgY29udGVudHMgaWQgJyR7dG9jSWR9J2ApO1xuICAgIH1cbiAgICB0b2NTZWN0aW9uc1t0b2NJZF0uaXRlbXMucHVzaCh7XG4gICAgICB0aXRsZTogdG9jSXRlbVRleHQgfHwgdGV4dCxcbiAgICAgIHBhcmFncmFwaEluZGV4XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChoYXNCdWxsZXQpIHtcbiAgICAvLyBnaXZlIHNvbWUgc3BhY2UgZm9yIHRoZSBidWxsZXQgcG9pbnRcbiAgICBtYXJnaW5MZWZ0ICs9IGJ1bGxldFNwYWNpbmc7XG4gIH1cbiAgLy8gc3BsaXRUZXh0VG9TaXplIHRha2VzIHlvdXIgc3RyaW5nIGFuZCB0dXJucyBpdCBpbiB0byBhbiBhcnJheSBvZiBzdHJpbmdzLFxuICAvLyBlYWNoIG9mIHdoaWNoIGNhbiBiZSBkaXNwbGF5ZWQgd2l0aGluIHRoZSBzcGVjaWZpZWQgbWF4TGluZVdpZHRoLlxuICBsZXQgdGV4dExpbmVzID0gZG9jXG4gICAgLnNldEZvbnQoZm9udE5hbWUsIGZvbnRTdHlsZSlcbiAgICAuc2V0Rm9udFNpemUoZm9udFNpemUpXG4gICAgLnNldFRleHRDb2xvcih0ZXh0Q29sb3IpXG4gICAgLnNwbGl0VGV4dFRvU2l6ZShcbiAgICAgIHRoaXMuZXNjYXBlU3BlY2lhbENoYXJhY3RlcnModGV4dCksXG4gICAgICBtYXhMaW5lV2lkdGggLSBtYXJnaW5MZWZ0IC0gbWFyZ2luUmlnaHRcbiAgICApO1xuXG4gIGlmIChtYXhMaW5lc1BlclBhcmFncmFwaCkge1xuICAgIHRleHRMaW5lcyA9IHRleHRMaW5lcy5zcGxpY2UoMCwgbWF4TGluZXNQZXJQYXJhZ3JhcGgpO1xuICB9XG5cbiAgeU9mZnNldCArPSBtYXJnaW5Ub3A7XG5cbiAgY29uc3QgbGluZXMgPSBbXTtcblxuICAvLyBkb2MudGV4dCBjYW4gbm93IGFkZCB0aG9zZSBsaW5lcyBlYXNpbHk7IG90aGVyd2lzZSwgaXQgd291bGQgaGF2ZSBydW4gdGV4dCBvZmYgdGhlIHNjcmVlbiFcbiAgdGV4dExpbmVzLmZvckVhY2goKGxpbmUsIGluZGV4KSA9PiB7XG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZlBhZ2VWZXJ0aWNhbGx5KHlPZmZzZXQgKyBmb250U2l6ZSkpIHtcbiAgICAgIC8vIGlmIG5leHQgbGluZSBjYW4ndCBiZSB3cml0dGVuIHJlc2V0IG9mZnNldCBhbmQgYWRkIGEgbmV3IHBhZ2VcbiAgICAgIHlPZmZzZXQgPSBwYWdlTWFyZ2luVG9wO1xuICAgICAgLy8gdGhpcy5hZGRQYWdlKCk7XG4gICAgICBwYWdlTnVtYmVyICs9IDE7XG4gICAgfVxuICAgIHhPZmZzZXQgPSBwYWdlTWFyZ2luTGVmdCArIG1hcmdpbkxlZnQ7XG4gICAgaWYgKGFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgeE9mZnNldCA9XG4gICAgICAgIHBhZ2VXaWR0aCAvIDIuMCAtXG4gICAgICAgIGRvYy5nZXRUZXh0V2lkdGgobGluZSkgLyAyLjAgK1xuICAgICAgICBtYXJnaW5MZWZ0IC1cbiAgICAgICAgbWFyZ2luUmlnaHQ7XG4gICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgeE9mZnNldCA9XG4gICAgICAgIHBhZ2VXaWR0aCAtIGRvYy5nZXRUZXh0V2lkdGgobGluZSkgLSBwYWdlTWFyZ2luUmlnaHQgLSBtYXJnaW5SaWdodDtcbiAgICB9XG4gICAgbGluZXMucHVzaCh7XG4gICAgICB0ZXh0OiBsaW5lLFxuICAgICAgZm9udFNpemUsXG4gICAgICBmb250TmFtZSxcbiAgICAgIGZvbnRTdHlsZSxcbiAgICAgIHRleHRDb2xvcixcbiAgICAgIGxpbmVXaWR0aDpcbiAgICAgICAgcGFnZVdpZHRoIC0gcGFnZU1hcmdpblJpZ2h0IC0gbWFyZ2luUmlnaHQgLSBwYWdlTWFyZ2luTGVmdCAtIG1hcmdpbkxlZnQsXG4gICAgICB4T2Zmc2V0LFxuICAgICAgeU9mZnNldCxcbiAgICAgIHBhZ2VOdW1iZXIsXG4gICAgICBtYXhGb250U2l6ZTogZm9udFNpemUsXG4gICAgICBpc0xpbmssXG4gICAgICBsaW5rUGFnZSxcbiAgICAgIGxpbmtVcmwsXG4gICAgICBsaW5rUGFyYWdyYXBoSW5kZXgsXG4gICAgICBoYXNCdWxsZXQ6IGluZGV4ID09PSAwICYmIGhhc0J1bGxldCwgLy8gb25seSBmaXJzdCBsaW5lIHNob3VsZCBjb250YWluIHRoZSBidWxsZXQgcG9pbnRcbiAgICAgIGJ1bGxldFNwYWNpbmcsXG4gICAgICBoaWdobGlnaHRDb2xvclxuICAgIH0pO1xuICAgIHlPZmZzZXQgPSB5T2Zmc2V0ICsgZm9udFNpemU7XG4gICAgLy8gVE9ETyBVU0UgVEhJUyBJRiBDVVJTT1IgSVMgU1RJTEwgSU4gVEhFIFNBTUUgTElORVxuICAgIC8vIHlPZmZzZXQgPSB5T2Zmc2V0ICsgTWF0aC5tYXgoZm9udFNpemUsIG1heEZvbnRTaXplKTtcbiAgICAvLyB4T2Zmc2V0ID0geE9mZnNldCArIGRvYy5nZXRUZXh0V2lkdGgoYCR7dGV4dH0gYCk7XG4gIH0pO1xuXG4gIHlPZmZzZXQgKz0gbWFyZ2luQm90dG9tO1xuXG4gIGlmIChwYWdlQnJlYWsgPT09ICdhZnRlcicpIHtcbiAgICB5T2Zmc2V0ID0gcGFnZU1hcmdpblRvcDtcbiAgICAvLyB0aGlzLmFkZFBhZ2UoKTtcbiAgICBwYWdlTnVtYmVyICs9IDE7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5leHRYT2Zmc2V0OiB4T2Zmc2V0LFxuICAgIG5leHRZT2Zmc2V0OiB5T2Zmc2V0LFxuICAgIG5leHRQYWdlOiBwYWdlTnVtYmVyLFxuICAgIGxpbmVzXG4gIH07XG59O1xuXG5Kc1BERk1ha2UucHJvdG90eXBlLnRyYW5zZm9ybUNvbnRlbnRUb0RyYXdhYmxlUGFyYWdyYXBocyA9IGZ1bmN0aW9uIHRyYW5zZm9ybUNvbnRlbnRUb0RyYXdhYmxlUGFyYWdyYXBocyhcbiAgY29udGVudCxcbiAgbWF4TGluZXNQZXJQYXJhZ3JhcGhcbikge1xuICBsZXQgeU9mZnNldCA9IHRoaXMucGFnZU1hcmdpblRvcDtcbiAgbGV0IHhPZmZzZXQ7XG4gIGxldCBjdXJyZW50UGFnZSA9IDE7XG4gIHJldHVybiBjb250ZW50XG4gICAgLm1hcCgocGFyYW1zLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50b2MpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlID4gMSAmJiBpbmRleCA8IGNvbnRlbnQubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHRoZSBmaXJzdCBwYWdlIGFuZCBpdCdzIG5vdCB0aGUgbGFzdCBwYWdlIGFkZCBhbm90aGVyIHBhZ2UgYWZ0ZXIgdGhlIHRvYyBmb3IgdGhlIG5leHQgY29udGVudFxuICAgICAgICAgIGN1cnJlbnRQYWdlICs9IDE7XG4gICAgICAgICAgeU9mZnNldCA9IHRoaXMucGFnZU1hcmdpblRvcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzVG9jOiB0cnVlLFxuICAgICAgICAgIGlkOiBwYXJhbXMudG9jLmlkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5leHRYT2Zmc2V0LFxuICAgICAgICBuZXh0WU9mZnNldCxcbiAgICAgICAgbmV4dFBhZ2UsXG4gICAgICAgIGxpbmVzXG4gICAgICB9ID0gdGhpcy5yZW5kZXJQYXJhZ3JhcGgoXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgeE9mZnNldCxcbiAgICAgICAgeU9mZnNldCxcbiAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBtYXhMaW5lc1BlclBhcmFncmFwaFxuICAgICAgKTtcbiAgICAgIHlPZmZzZXQgPSBuZXh0WU9mZnNldDtcbiAgICAgIHhPZmZzZXQgPSBuZXh0WE9mZnNldDtcbiAgICAgIGN1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5lc1xuICAgICAgfTtcbiAgICB9KVxuICAgIC5maWx0ZXIoYSA9PiBhKTtcbn07XG5cbkpzUERGTWFrZS5wcm90b3R5cGUuZ2VuZXJhdGVGcm9tRG9jRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIGdlbmVyYXRlRnJvbURvY0RlZmluaXRpb24oKSB7XG4gIGNvbnN0IHsgZG9jRGVmaW5pdGlvbiB9ID0gdGhpcztcbiAgdGhpcy5jbGVhckRvYygpO1xuICB0aGlzLmluaXRUT0MoKTtcbiAgY29uc3QgcGFyYWdyYXBocyA9IHRoaXMudHJhbnNmb3JtQ29udGVudFRvRHJhd2FibGVQYXJhZ3JhcGhzKFxuICAgIGRvY0RlZmluaXRpb24uY29udGVudFxuICApOyAvLyBBcnJheSBvZiBQYXJhZ3JhcGggd2hlcmUgYSBQYXJhZ2FwaCBpcyBhbiBBcnJheSBvZiBMaW5lc1xuICBjb25zdCB7IHRvY1NlY3Rpb25zIH0gPSB0aGlzO1xuICBPYmplY3QuZW50cmllcyh0b2NTZWN0aW9ucykuZm9yRWFjaCgoW3RvY0lkLCB0b2NTZWN0aW9uXSkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnRyYW5zZm9ybVRPQ1RvQ29udGVudCh0b2NTZWN0aW9uKTtcbiAgICBjb25zdCB0b2NQYXJhZ3JhcGhzID0gdGhpcy50cmFuc2Zvcm1Db250ZW50VG9EcmF3YWJsZVBhcmFncmFwaHMoY29udGVudCwgMSk7IC8vIHRyYW5zZm9ybSB0byBkcmF3YWJsZSBwYXJhZ3JhcGggd2l0aCBtYXggMSBsaW5lIHBlciBwYXJhZ3JhcGhcblxuICAgIC8vIE1lcmdlIHRvY1BhcmFncmFwaHMgaW50byB0aGUgY3VycmVudCBwYXJhZ3JhcGhzXG4gICAgcGFyYWdyYXBocy5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuaXNUb2MgJiYgcC5pZCA9PT0gdG9jSWQpIHtcbiAgICAgICAgcC5saW5lcyA9IHRvY1BhcmFncmFwaHMubWFwKHAgPT4gcC5saW5lcykuZmxhdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICB0aGlzLmRyYXdQYXJhZ3JhcGhzKHRoaXMudXBkYXRlVE9DTGlua3MocGFyYWdyYXBocykpO1xuICB0aGlzLnJlbmRlckZvb3RlclRvUGFnZXMoKTtcbn07XG5cbkpzUERGTWFrZS5wcm90b3R5cGUucmVuZGVyRm9vdGVyVG9QYWdlcyA9IGZ1bmN0aW9uIHJlbmRlckZvb3RlclRvUGFnZXMoKSB7XG4gIGNvbnN0IHsgZG9jRGVmaW5pdGlvbiwgZG9jLCB0b2NTZWN0aW9ucywgcGFnZVdpZHRoLCBwYWdlSGVpZ2h0IH0gPSB0aGlzO1xuICBjb25zdCB7IHJlbmRlckZvb3RlciB9ID0gZG9jRGVmaW5pdGlvbjtcbiAgaWYgKHJlbmRlckZvb3Rlcikge1xuICAgIGxldCBjdXJyZW50UGFnZU51bWJlciA9IDE7XG4gICAgd2hpbGUgKGN1cnJlbnRQYWdlTnVtYmVyIDw9IHRoaXMuc2l6ZSgpKSB7XG4gICAgICBkb2Muc2V0UGFnZShjdXJyZW50UGFnZU51bWJlcik7XG4gICAgICByZW5kZXJGb290ZXIoXG4gICAgICAgIGRvYyxcbiAgICAgICAgY3VycmVudFBhZ2VOdW1iZXIsXG4gICAgICAgIHtcbiAgICAgICAgICB3aWR0aDogcGFnZVdpZHRoLFxuICAgICAgICAgIGhlaWdodDogcGFnZUhlaWdodFxuICAgICAgICB9LFxuICAgICAgICB0b2NTZWN0aW9uc1xuICAgICAgKTtcbiAgICAgIGN1cnJlbnRQYWdlTnVtYmVyICs9IDE7XG4gICAgfVxuICB9XG59O1xuXG5Kc1BERk1ha2UucHJvdG90eXBlLmRvd25sb2FkID0gZnVuY3Rpb24gZG93bmxvYWQoKSB7XG4gIHRoaXMuZG9jLnNhdmUodGhpcy50aXRsZSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kSnNQREZBUEkoY2IpIHtcbiAgY2IoSnNQREYuQVBJKTtcbn1cbiIsImV4cG9ydCBjb25zdCBERUZBVUxUX0ZPTlRfU0laRSA9IDE4O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTElORV9IRUlHSFQgPSAxO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQUxJR04gPSAnbGVmdCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9GT05UX05BTUUgPSAnaGVsdmV0aWNhJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPTlRfU1RZTEUgPSAnbm9ybWFsJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RFWFRfQ09MT1IgPSAnYmxhY2snO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIERFRkFVTFRfRk9OVF9TSVpFLFxuICBERUZBVUxUX0xJTkVfSEVJR0hULFxuICBERUZBVUxUX0FMSUdOLFxuICBERUZBVUxUX0ZPTlRfTkFNRSxcbiAgREVGQVVMVF9GT05UX1NUWUxFLFxuICBERUZBVUxUX1RFWFRfQ09MT1Jcbn07XG4iLCJleHBvcnQgY29uc3QgbWF4QnkgPSAoXG4gIGFycmF5ID0gW10sXG4gIGdldFZhbHVlID0gb2JqID0+IG9iaixcbiAgbWF4RnVuYyA9IE1hdGgubWF4XG4pID0+IHtcbiAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoXG4gICAgICAocHJldiwgY3VycmVudCkgPT4gbWF4RnVuYyhnZXRWYWx1ZShwcmV2KSwgZ2V0VmFsdWUoY3VycmVudCkpLFxuICAgICAgYXJyYXlbMF1cbiAgICApO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5TdHJpbmcucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3BsaXQoJycpXG4gICAgLnJldmVyc2UoKVxuICAgIC5qb2luKCcnKTtcbn07XG5cbmNvbnN0IEVQUyA9IDFlLTU7XG5cbmNvbnN0IGxlc3NUaGFuT3JFcXVhbCA9IChhLCBiKSA9PiB7XG4gIHJldHVybiBhIDwgYiB8fCBNYXRoLmFicyhhIC0gYikgPCBFUFM7XG59O1xuXG5jb25zdCByZW1vdmVDaGFyYWN0ZXJzVG9GaXRXaWR0aCA9IChcbiAgdGV4dCxcbiAgd2lkdGgsXG4gIG51bU9mRG90cyxcbiAgZ2V0VGV4dFdpZHRoLFxuICBzZXBlcmF0b3IgPSAnICdcbikgPT4ge1xuICBjb25zdCBwYWRkaW5nVGV4dCA9IEFycmF5KG51bU9mRG90cylcbiAgICAuZmlsbCgnLicpXG4gICAgLmpvaW4oJycpXG4gICAgLmNvbmNhdChzZXBlcmF0b3IpO1xuICBjb25zdCB0b3RhbFdpZHRoID0gd2lkdGggLSBnZXRUZXh0V2lkdGgocGFkZGluZ1RleHQpO1xuICBsZXQgblRleHQgPSAnJztcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoXG4gICAgaSA8IHRleHQubGVuZ3RoICYmXG4gICAgbGVzc1RoYW5PckVxdWFsKFxuICAgICAgZ2V0VGV4dFdpZHRoKG5UZXh0LmNvbmNhdCh0ZXh0W2ldLCBwYWRkaW5nVGV4dCkpLFxuICAgICAgdG90YWxXaWR0aFxuICAgIClcbiAgKSB7XG4gICAgblRleHQgPSBuVGV4dC5jb25jYXQodGV4dFtpXSk7XG4gICAgaSArPSAxO1xuICB9XG4gIG5UZXh0ID0gblRleHQuY29uY2F0KHBhZGRpbmdUZXh0KTtcbiAgcmV0dXJuIG5UZXh0O1xufTtcblxuY29uc3QgYWRkRG90c1RvRml0V2lkdGggPSAodGV4dCwgd2lkdGgsIGdldFRleHRXaWR0aCwgc2VwZXJhdG9yID0gJyAgJykgPT4ge1xuICBsZXQgblRleHQgPSB0ZXh0O1xuICB3aGlsZSAobGVzc1RoYW5PckVxdWFsKGdldFRleHRXaWR0aChuVGV4dC5jb25jYXQoJy4nLCBzZXBlcmF0b3IpKSwgd2lkdGgpKSB7XG4gICAgblRleHQgPSBuVGV4dC5jb25jYXQoJy4nKTtcbiAgfVxuICByZXR1cm4gblRleHQuY29uY2F0KHNlcGVyYXRvcik7XG59O1xuXG4vKipcbiAqIFJldHVybnMgMiBsaW5lcyBjb25ubmVjdGVkIHdpdGggZG90cywgdGhlIGZpcnN0IGxpbmUgaXMgdGhlIGxpbmsgYW5kIHRoZSBzZWNvbmQgaXMgdGhlIHBhZ2UgbnVtYmVyXG4gKiBAcGFyYW0ge09iamVjdH0gbGluZSB0aGUgbGluZSB0byBhZGQgZG90cyB0b1xuICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRvdHMgbWluaW11bSBudW1iZXIgb2YgZG90cyBiZXR3ZWVuIHRoZSB0d28gdGV4dHNcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZXBlcmF0b3IgdGV4dCB0byBzZXByYXRlIGJldHdlZW4gdGhlIHR3byB0ZXh0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0VGV4dFdpZHRoIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB3aWR0aCBvZiBhIGdpdmVuIHRleHQgaW4gcGl4ZWxzXG4gKi9cbmV4cG9ydCBjb25zdCBjb25uZWN0V2l0aERvdHNUb0ZpdExpbmUgPSAobGluZSwgZ2V0VGV4dFdpZHRoKSA9PiB7XG4gIGNvbnN0IG1pblJpZ2h0VGV4dCA9IEFycmF5KDkpXG4gICAgLmZpbGwoJy4nKVxuICAgIC5qb2luKCcnKVxuICAgIC5jb25jYXQobGluZS5saW5rUGFnZSk7XG4gIGNvbnN0IHJpZ2h0VGV4dFdpZHRoID0gZ2V0VGV4dFdpZHRoKG1pblJpZ2h0VGV4dCk7XG4gIGNvbnN0IGxlZnRUZXh0V2lkdGggPSBnZXRUZXh0V2lkdGgobGluZS50ZXh0KTtcbiAgbGV0IGxlZnRUZXh0ID0gbGluZS50ZXh0O1xuICBsZXQgcmlnaHRUZXh0ID0gbWluUmlnaHRUZXh0O1xuICBpZiAobGluZS5saW5lV2lkdGggLSBsZWZ0VGV4dFdpZHRoIDwgcmlnaHRUZXh0V2lkdGgpIHtcbiAgICAvLyB0aGlzIG1lYW5zIHdlIG5lZWQgdG8gcmVtb3ZlIHNvbWUgY2hhcmFjdGVycyBmcm9tIHRoZSBsaW5lIHRleHQgdG8gbWFrZSBzcGFjZSBmb3IgdGhlIGRvdHMgYW5kIHRoZSBwYWdlTnVtYmVyXG4gICAgbGVmdFRleHQgPSByZW1vdmVDaGFyYWN0ZXJzVG9GaXRXaWR0aChcbiAgICAgIGxpbmUudGV4dCxcbiAgICAgIGxpbmUubGluZVdpZHRoIC0gcmlnaHRUZXh0V2lkdGgsXG4gICAgICAyLFxuICAgICAgZ2V0VGV4dFdpZHRoXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByaWdodFRleHQgPSBhZGREb3RzVG9GaXRXaWR0aChcbiAgICAgIG1pblJpZ2h0VGV4dC5yZXZlcnNlKCksXG4gICAgICBsaW5lLmxpbmVXaWR0aCAtIGxlZnRUZXh0V2lkdGgsXG4gICAgICBnZXRUZXh0V2lkdGhcbiAgICApLnJldmVyc2UoKTtcbiAgfVxuICByZXR1cm4gW1xuICAgIHsgLi4ubGluZSwgdGV4dDogbGVmdFRleHQgfSxcbiAgICB7XG4gICAgICAuLi5saW5lLFxuICAgICAgdGV4dDogcmlnaHRUZXh0LFxuICAgICAgeE9mZnNldDogbGluZS54T2Zmc2V0ICsgbGluZS5saW5lV2lkdGggLSBnZXRUZXh0V2lkdGgocmlnaHRUZXh0KVxuICAgIH1cbiAgXTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbWF4Qnlcbn07XG4iLCJpbXBvcnQgeyBKc1BERk1ha2UgfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IGNvbm5lY3RXaXRoRG90c1RvRml0TGluZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5Kc1BERk1ha2UucHJvdG90eXBlLmluaXRUT0MgPSBmdW5jdGlvbiBpbml0VE9DKCkge1xuICB0aGlzLnRvY1NlY3Rpb25zID0ge307XG4gIHRoaXMuZG9jRGVmaW5pdGlvbi5jb250ZW50XG4gICAgLmZpbHRlcihpdGVtID0+IGl0ZW0udG9jKVxuICAgIC5mb3JFYWNoKCh7IHRvYyB9KSA9PiB7XG4gICAgICBpZiAodGhpcy50b2NTZWN0aW9uc1t0b2MuaWRdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRHVwbGljYXRlIHRhYmxlIG9mIGNvbnRlbnRzIGlkICcke1xuICAgICAgICAgICAgdG9jLmlkXG4gICAgICAgICAgfScsIHBsZWFzZSBtYWtlIHN1cmUgYWxsIHRhYmxlIG9mIGNvbnRlbnRzIGhhdmUgYSB1bmlxIGlkYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRvYyk7IC8vIGRlZXAgY2xvbmUgdG9jXG4gICAgICBkZWxldGUgb3B0aW9ucy5pZDtcbiAgICAgIHRoaXMudG9jU2VjdGlvbnNbdG9jLmlkXSA9IHtcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICBvcHRpb25zXG4gICAgICB9O1xuICAgIH0pO1xufTtcblxuSnNQREZNYWtlLnByb3RvdHlwZS50cmFuc2Zvcm1UT0NUb0NvbnRlbnQgPSBmdW5jdGlvbiB0cmFuc2Zvcm1UT0NUb0NvbnRlbnQoXG4gIHNlY3Rpb25cbikge1xuICBjb25zdCB7IG9wdGlvbnMsIGl0ZW1zIH0gPSBzZWN0aW9uO1xuICBjb25zdCBjb250ZW50ID0gW29wdGlvbnMudGl0bGVdO1xuICBpdGVtcy5mb3JFYWNoKCh7IHRpdGxlLCBwYXJhZ3JhcGhJbmRleCB9KSA9PiB7XG4gICAgY29uc3QgdG9jSXRlbSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IHRleHQ6IHRpdGxlLCBpc0xpbms6IHRydWUsIGxpbmtQYXJhZ3JhcGhJbmRleDogcGFyYWdyYXBoSW5kZXggfSxcbiAgICAgIG9wdGlvbnMuaXRlbU9wdGlvbnNcbiAgICApO1xuICAgIGNvbnRlbnQucHVzaCh0b2NJdGVtKTtcbiAgfSk7XG4gIHJldHVybiBjb250ZW50O1xufTtcblxuSnNQREZNYWtlLnByb3RvdHlwZS51cGRhdGVUT0NMaW5rcyA9IGZ1bmN0aW9uIHVwZGF0ZVRPQ0xpbmtzKHBhcmFncmFwaHMpIHtcbiAgbGV0IHRvY1BhcmFncmFwaHNTaXplID0gMDtcbiAgbGV0IGxhc3RQYWdlID0gMDtcblxuICAvLyBMb29wIG9uIGFsbCBwYXJhZ3JhcGhzXG4gIHBhcmFncmFwaHMuZm9yRWFjaChwID0+IHtcbiAgICBsZXQgcGFyYWdyYXBoU2l6ZSA9IDA7XG4gICAgaWYgKHAuaXNUb2MpIHtcbiAgICAgIC8vIElmIHRoZSBjdXJyZW50IHBhcmFncmFwaCBpcyBhIHRhYmxlIG9mIGNvbnRlbnRzIHVwZGF0ZSBpdCdzIHBhZ2UgbnVtYmVyIHRvIGJlIGFmdGVyIGxhc3QgcGFnZVxuICAgICAgcC5saW5lcy5mb3JFYWNoKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgICBwYXJhZ3JhcGhTaXplID0gbGluZS5wYWdlTnVtYmVyO1xuICAgICAgICBsaW5lLnBhZ2VOdW1iZXIgKz0gbGFzdFBhZ2U7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIC8vIGFzc2lnbiB0aGUgcGFnZSBudW1iZXIgb2YgdGhlIHRvYyBzZWN0aW9uIHRvIGl0J3MgZmlyc3QgbGluZSBwYWdlIG51bWJlclxuICAgICAgICAgIHRoaXMudG9jU2VjdGlvbnNbcC5pZF0ucGFnZU51bWJlciA9IGxpbmUucGFnZU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBJbmNyZWFzZSB0aGUgc2l6ZSBvZiB0aGUgdGFibGUgb2YgY29udGVudHMgcGFyYWdyYXBoIGJ5IHRoaXMgdG9jIHNpemVcbiAgICAgIHRvY1BhcmFncmFwaHNTaXplICs9IHBhcmFncmFwaFNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGl0J3MgYSBub3JtYWwgcGFyYWdyYXBoIHRoZW4gaW5jcmVhc2UgaXQncyBwYWdlIG51bWJlciB3aXRoIHRoZSB0b2NQYXJhZ3JhcGhTaXplIHRvIHNoaWZ0IGl0IGRvd25cbiAgICAgIHAubGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgbGluZS5wYWdlTnVtYmVyICs9IHRvY1BhcmFncmFwaHNTaXplO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGxhc3QgcGFnZVxuICAgICAgICBsYXN0UGFnZSA9IGxpbmUucGFnZU51bWJlcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gTGluayBhbGwgbGlua2VkIGxpbmVzIHRvIHRoZSBjb3JyZWN0IHBhcmFncmFwaCdzIGZpcnN0IGxpbmVcbiAgcGFyYWdyYXBocy5mb3JFYWNoKHAgPT4ge1xuICAgIHAubGluZXMgPSBwLmxpbmVzLnJlZHVjZSgobkxpbmVzLCBsaW5lKSA9PiB7XG4gICAgICBpZiAobGluZS5saW5rUGFyYWdyYXBoSW5kZXggPj0gMCkge1xuICAgICAgICAvLyAyIGxpbmVzIGNvbm5uZWN0ZWQgd2l0aCBkb3RzIHRoZSBmaXJzdCBsaW5lIGlzIHRoZSBsaW5rLCB0aGUgc2Vjb25kIGlzIHRoZSBwYWdlIG51bWJlclxuICAgICAgICBjb25zdCBkb3RDb25uZWN0TGluZXMgPSBjb25uZWN0V2l0aERvdHNUb0ZpdExpbmUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4ubGluZSxcbiAgICAgICAgICAgIGxpbmtQYWdlOiBwYXJhZ3JhcGhzW2xpbmUubGlua1BhcmFncmFwaEluZGV4XS5saW5lc1swXS5wYWdlTnVtYmVyXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZXh0ID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY1xuICAgICAgICAgICAgICAuc2V0Rm9udChsaW5lLmZvbnROYW1lLCBsaW5lLmZvbnRTdHlsZSlcbiAgICAgICAgICAgICAgLnNldEZvbnRTaXplKGxpbmUuZm9udFNpemUpXG4gICAgICAgICAgICAgIC5nZXRUZXh0V2lkdGgodGV4dCk7XG4gICAgICAgICAgfSAvLyBzZW5kIHRoZSBnZXQgdGV4dCB3aWR0aCBmdW5jdGlvbiBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgbGluZSdzIGZvbnQgc3BlY3NcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG5MaW5lcy5jb25jYXQoZG90Q29ubmVjdExpbmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuTGluZXMuY29uY2F0KGxpbmUpO1xuICAgIH0sIFtdKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhcmFncmFwaHM7XG59O1xuIl0sIm5hbWVzIjpbIkpzUERGTWFrZSIsInRpdGxlIiwiZG9jRGVmaW5pdGlvbiIsIm9wdGlvbnMiLCJqc1BkZk9wdGlvbnMiLCJERUZBVUxUX0xJTkVfSEVJR0hUIiwiZG9jIiwiSnNQREYiLCJzZXRQcm9wZXJ0aWVzIiwicGFnZVdpZHRoIiwidGhpcyIsImludGVybmFsIiwicGFnZVNpemUiLCJnZXRXaWR0aCIsInBhZ2VIZWlnaHQiLCJnZXRIZWlnaHQiLCJwYWdlTWFyZ2luTGVmdCIsInBhZ2VNYXJnaW5SaWdodCIsInBhZ2VNYXJnaW5Ub3AiLCJwYWdlTWFyZ2luQm90dG9tIiwibWF4TGluZVdpZHRoIiwidG9jU2VjdGlvbnMiLCJnZW5lcmF0ZUZyb21Eb2NEZWZpbml0aW9uIiwiZXh0ZW5kSnNQREZBUEkiLCJjYiIsIkFQSSIsIkRFRkFVTFRfRk9OVF9TSVpFIiwiREVGQVVMVF9BTElHTiIsIkRFRkFVTFRfRk9OVF9OQU1FIiwiREVGQVVMVF9GT05UX1NUWUxFIiwiREVGQVVMVF9URVhUX0NPTE9SIiwiU3RyaW5nIiwicHJvdG90eXBlIiwicmV2ZXJzZSIsInNwbGl0Iiwiam9pbiIsIkVQUyIsImxlc3NUaGFuT3JFcXVhbCIsImEiLCJiIiwiTWF0aCIsImFicyIsInJlbW92ZUNoYXJhY3RlcnNUb0ZpdFdpZHRoIiwidGV4dCIsIndpZHRoIiwibnVtT2ZEb3RzIiwiZ2V0VGV4dFdpZHRoIiwic2VwZXJhdG9yIiwicGFkZGluZ1RleHQiLCJBcnJheSIsImZpbGwiLCJjb25jYXQiLCJ0b3RhbFdpZHRoIiwiblRleHQiLCJpIiwibGVuZ3RoIiwiYWRkRG90c1RvRml0V2lkdGgiLCJjb25uZWN0V2l0aERvdHNUb0ZpdExpbmUiLCJsaW5lIiwibWluUmlnaHRUZXh0IiwibGlua1BhZ2UiLCJyaWdodFRleHRXaWR0aCIsImxlZnRUZXh0V2lkdGgiLCJsZWZ0VGV4dCIsInJpZ2h0VGV4dCIsImxpbmVXaWR0aCIsInhPZmZzZXQiLCJpbml0VE9DIiwiY29udGVudCIsImZpbHRlciIsIml0ZW0iLCJ0b2MiLCJmb3JFYWNoIiwiX3RoaXMiLCJpZCIsIkVycm9yIiwiT2JqZWN0IiwiYXNzaWduIiwidHJhbnNmb3JtVE9DVG9Db250ZW50Iiwic2VjdGlvbiIsIml0ZW1zIiwicGFyYWdyYXBoSW5kZXgiLCJ0b2NJdGVtIiwiaXNMaW5rIiwibGlua1BhcmFncmFwaEluZGV4IiwiaXRlbU9wdGlvbnMiLCJwdXNoIiwidXBkYXRlVE9DTGlua3MiLCJwYXJhZ3JhcGhzIiwidG9jUGFyYWdyYXBoc1NpemUiLCJsYXN0UGFnZSIsInBhcmFncmFwaFNpemUiLCJwIiwiaXNUb2MiLCJsaW5lcyIsImluZGV4IiwicGFnZU51bWJlciIsInJlZHVjZSIsIm5MaW5lcyIsImRvdENvbm5lY3RMaW5lcyIsIl90aGlzMiIsInNldEZvbnQiLCJmb250TmFtZSIsImZvbnRTdHlsZSIsInNldEZvbnRTaXplIiwiZm9udFNpemUiLCJzaXplIiwicGFnZXMiLCJhZGRQYWdlIiwiY3VycmVudFBhZ2UiLCJnZXRDdXJyZW50UGFnZU51bWJlciIsImluc2VydFBhZ2UiLCJjbGVhckRvYyIsImRlbGV0ZVBhZ2UiLCJ1cGRhdGVEb2NEZWZpbml0aW9uIiwiZ2V0Q3VycmVudFBhZ2VJbmZvIiwiaXNDdXJzb3JPdXRPZlBhZ2VWZXJ0aWNhbGx5IiwieU9mZnNldCIsImRyYXdUZXh0SW5MaW5lIiwidGV4dENvbG9yIiwibWF4Rm9udFNpemUiLCJsaW5rVXJsIiwiaGFzQnVsbGV0IiwiYnVsbGV0U3BhY2luZyIsImhpZ2hsaWdodENvbG9yIiwiY2VudGVyIiwic2V0RHJhd0NvbG9yIiwic2V0RmlsbENvbG9yIiwicmVjdCIsInNldFBhZ2UiLCJzZXRUZXh0Q29sb3IiLCJsaW5rIiwidGV4dFdpdGhMaW5rIiwibWF4IiwiY2lyY2xlIiwiZHJhd1BhcmFncmFwaHMiLCJlc2NhcGVTcGVjaWFsQ2hhcmFjdGVycyIsInJlcGxhY2UiLCJyZW5kZXJQYXJhZ3JhcGgiLCJwYWdlQnJlYWsiLCJhbGlnbiIsIm1hcmdpblRvcCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luQm90dG9tIiwibWFyZ2luTGVmdCIsInRvY0lkcyIsInRvY0l0ZW1UZXh0IiwibWF4TGluZXNQZXJQYXJhZ3JhcGgiLCJ3YXJuIiwidG9jSWQiLCJ0ZXh0TGluZXMiLCJzcGxpdFRleHRUb1NpemUiLCJzcGxpY2UiLCJ0cmFuc2Zvcm1Db250ZW50VG9EcmF3YWJsZVBhcmFncmFwaHMiLCJtYXAiLCJwYXJhbXMiLCJfdGhpczMiLCJuZXh0WE9mZnNldCIsIm5leHRZT2Zmc2V0IiwibmV4dFBhZ2UiLCJlbnRyaWVzIiwidG9jU2VjdGlvbiIsIl90aGlzNCIsInRvY1BhcmFncmFwaHMiLCJmbGF0IiwicmVuZGVyRm9vdGVyVG9Q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
